<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>013-03-对象合并-Object.assign()-注意点</title>
</head>

<body>
    <script>
        // 1. Object.assign() 是浅拷贝
        {
            const obj1 = {
                a: {
                    b: 1
                }
            }
            const obj2 = Object.assign({}, obj1)

            console.log(obj2.a.b)    // 返回 1

            obj1.a.b = 2
            console.log(obj2.a.b)    // 返回 2
        }

        // 2. 同名属性会被替换
        {
            const target = {
                a: {
                    x: 1,
                    y: 2
                }
            }
            const source = {
                a: {
                    z: 3
                }
            }

            Object.assign(target, source)
            console.log(target)    // 返回 { a: { z: 3 } }
        }

        /*
            3. 数组元素的覆盖
                Object.assign() 会把数组转化为对象。
        */
        {
            console.log(Object.assign([1, 2, 3], [4, 5]))    // 返回 [4, 5, 3]
            /*
                Object.assign() 将数组看作是属性值为1,2,3...的对象，
                    会导致源对象数组的值，
                        覆盖目标对象数组的，相同索引号的值
            */
        }
    </script>
</body>

</html>