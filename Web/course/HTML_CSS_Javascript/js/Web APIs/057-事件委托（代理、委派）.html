<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>057-事件委托（代理、委派）</title>
</head>

<body>
    <ul>
        <li>弹框</li>
        <li>弹框</li>
        <li>弹框</li>
        <li>弹框</li>
        <li>弹框</li>
        <li>弹框</li>
    </ul>
    <script>
        /*
            1. 事件委派的原理：
                不在每个节点单独设置事件监听器，
                而是在这些节点的父节点上设置事件监听器，
                然后利用冒泡原理影响设置每个子节点。
            2. 事件委托的作用：
                只操作了一次 DOM ，提升了程序的性能。
        */
        /* 
            案例：
                为 ul 注册点击事件，
                然后利用事件对象的 e.target 来找到触发事件的对象，即当前被点击的 li。
                因为点击了 li 后，时间会冒泡到 ul 上，
                ul 有注册事件，就会触发事件监听器。
        */
        var ul = document.querySelector('ul');
        ul.addEventListener('click', fn);
        function fn(e) {
            alert(e.target.innerHTML);
            e.target.style.backgroundColor = '#b8a6d9';
        };
    </script>
</body>

</html>