<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>019-02-WeakMap的方法</title>
</head>

<body>
    <script>
        /*
            WeakMap 的方法
!               1. WeakMap 没有遍历操作
                    没有 .keys(), .values(), .entries(), forEach() 和 .size。
                2. 增删改查方法
                    2.1 向 WeakMap 实例中添加一个成员：
                        WeakMap.prototype.set(键名, 键值)
                    2.2 依据键名获取 WeakMap 实例中的某一个成员的键值：
                        WeakMap.prototype.get(键名)
                    2.1 查询 WeakMap 实例中是否存在某一个键名：
                        WeakMap.prototype.has(键名)
                    2.1 删除 WeakMap 实例中的某一个成员：
                        WeakMap.prototype.delete(键名)
        */
        {
            const o = {
                id: 1
            }

            const wm = new WeakMap()

            // 添加成员
            wm.set(o, 'id 为 1 的对象 o')

            // 获取键值
            console.log(wm.get(o))

            // 查询是否存在某成员
            console.log(wm.has(o))    // 返回 true

            // 删除某成员
            wm.delete(o)
            console.log(wm.has(o))    // 返回 false
        }
    </script>
</body>

</html>