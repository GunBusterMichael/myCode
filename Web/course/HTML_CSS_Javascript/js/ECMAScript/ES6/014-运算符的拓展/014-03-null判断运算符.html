<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>014-03-null判断运算符</title>
</head>

<body>
    <script>
        /*
            null判断运算符
                1. 写法
                    ??
                2. 功能
                    运算符左侧的值为 null 或 undefined 时，
                        会返回右侧的值。
                    运算符左侧的值不为 null 或 undefined 时，
                        会返回左侧的值。
        */
        // 举例
        {
            let x = {
                x1: 1
            }

            // 如果 x.x1 不是 null 或 undefined，则返回 x.x1 的值；
            // 如果 x.x1 是 null 或 undefined，则返回默认值 300
            let a = x.x1 ?? 300
            let b = x.x2 ?? 300    // b 为 null

            console.log(a)    // 返回 1
            console.log(b)    // 返回 300
        }

        // 3. 配合链判断运算符使用
        {
            /* 
                如果 data.user 是 null 或 undefined，
                    或 data.user.id 是 null 或 undefined，
                    则返回 1.
            */
            let data = {}
            const id = data.user?.id ?? 1
        }

        /* 
            4. ?? 与 && || 的优先级
                ?? && || 本质上都是逻辑运算符；
                    如果多个逻辑运算符一起使用，必须用小括号表明优先级，否则报错。
        */
        {
            // 报错
            {
                // a && b || c ??
            }

            // 加入小括号后不报错
            {
                // (a && b) ?? c
            }
        }
    </script>
</body>

</html>