<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>011-02扩展运算符(spread)-替代函数的apply方法</title>
</head>

<body>
    <a href="E:\myCode\Web\course\HTML_CSS_Javascript\js\ECMAScript\JavaScript 高级与部分 ES6\036-改变函数内this指向-apply().html"
        target="_blank">036-改变函数内this指向-apply().html</a>

    <script>
        /*
            ES5 中，
                用 apply() 方法将数组转化为函数实参
        */
        {
            function add(x, y, z) {
                console.log(x + y + z)
            }

            let arr = [1, 2, 3]
            add.apply(null, arr)    // 返回 6
        }

        /*
            ES6 中，
*               用扩展运算符将数组转化为函数实参
        */
        {
            function add(x, y, z) {
                console.log(x + y + z)
            }

            let arr = [1, 2, 3]
            add(...arr)    // 返回 6
        }

        // 举例：求数组元素最大值
        {
            let nums = [531, 31, 3, 51, 561, 351, 56165, 65, 31563, 53, 1]

            // apply()
            console.log(Math.max.apply(null, nums))    // 返回 56165

            // 拓展运算符
            console.log(Math.max(...nums))    // 返回 56165
        }

        // 举例：将一个数组添加到另一个数组中
        {
            let arr1 = [0, 1, 2]
            let arr2 = [0, 1, 2]
            let arr3 = [3, 4, 5]

            // apply()
            arr1.push.apply(arr1, arr3)
            console.log(arr1)    // 返回 [0, 1, 2, 3, 4, 5]

            // 拓展运算符
            arr2.push(...arr3)
            console.log(arr2)    // 返回 [0, 1, 2, 3, 4, 5]
        }

        // 举例：新建 Date 实例
        {
            // apply()
            let date1 = new (Date.bind.apply(Date, [null, 2015, 1, 1]))
            console.log(date1)    // 返回 Sun Feb 01 2015 00:00:00 GMT+0800 (中国标准时间)

            // 拓展运算符
            let date2 = new Date(...[2015, 1, 1])
            console.log(date2)    // 返回 Sun Feb 01 2015 00:00:00 GMT+0800 (中国标准时间)
        }
    </script>
</body>

</html>